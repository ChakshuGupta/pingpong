# Script to plot time series graphs for network traffic analysis
#
# by Rahmadi Trimananda (rahmadi.trimananda@uci.edu)
# Programming Language Research Group @ University of California, Irvine
# Fall 2017

# ************ #
# BASIC SETUP  #
# ************ #
#set terminal postscript landscape "Arial, 18"
#set terminal postscript eps font 'Helvetica,20' enhanced color 
set terminal pngcairo enhanced font 'Verdana,10'
set autoscale
unset key
unset log
unset label
set xtics 600
set ytics auto
set xlabel "Packet Timestamp (hh:mm:ss)"
set ylabel "Packet Frequency (pps)"
set xdata time
set timefmt "%H:%M:%S"
#set xrange ["06:00:00":"10:00:00"]
#set yrange [0:200]
set xrange [:]
set yrange [0:]

# ***************** #
# PER DEVICE SETUP  #
# ***************** #
# WeMo switch
#set output '../result_ts/wemo_switch_incoming.ps'
#set output '../result_ts/wemo_switch_incoming.eps'
set output '../result_ts/wemo_switch_timestamp_incoming.png'
set title "WeMo Switch Incoming Traffic"
plot "../result_ts/wemo_switch_incoming.dat" using 1:2 with lines
set output '../result_ts/wemo_switch_timestamp_outgoing.png'
set title "WeMo Switch Outgoing Traffic"
plot "../result_ts/wemo_switch_outgoing.dat" using 1:2 with lines


# WeMo Insight
#set output '../result_ts/wemo_insight_incoming.eps'
set output '../result_ts/wemo_insight_timestamp_incoming.png'
set title "WeMo Insight Incoming Traffic"
plot "../result_ts/wemo_insight_incoming.dat" using 1:2 with lines
set output '../result_ts/wemo_insight_timestamp_outgoing.png'
set title "WeMo Insight Outgoing Traffic"
plot "../result_ts/wemo_insight_outgoing.dat" using 1:2 with lines

# TP-Link switch
#set output '../result_ts/tplink_switch_incoming.eps'
set output '../result_ts/tplink_switch_timestamp_incoming.png'
set title "TP-Link Switch Incoming Traffic"
plot "../result_ts/tplink_switch_incoming.dat" using 1:2 with lines
set output '../result_ts/tplink_switch_timestamp_outgoing.png'
set title "TP-Link Switch Outgoing Traffic"
plot "../result_ts/tplink_switch_outgoing.dat" using 1:2 with lines

# D-Link switch
#set output '../result_ts/dlink_switch_incoming.eps'
set output '../result_ts/dlink_switch_timestamp_incoming.png'
set title "D-Link Switch Incoming Traffic"
plot "../result_ts/dlink_switch_incoming.dat" using 1:2 with lines
set output '../result_ts/dlink_switch_timestamp_outgoing.png'
set title "D-Link Switch Outgoing Traffic"
plot "../result_ts/dlink_switch_outgoing.dat" using 1:2 with lines


# Amcrest camera
#set output '../result_ts/amcrest_camera_incoming.eps'
set output '../result_ts/amcrest_camera_timestamp_incoming.png'
set title "Amcrest Camera Incoming Traffic"
plot "../result_ts/amcrest_camera_incoming.dat" using 1:2 with lines
set output '../result_ts/amcrest_camera_timestamp_outgoing.png'
set title "Amcrest Camera Outgoing Traffic"
plot "../result_ts/amcrest_camera_outgoing.dat" using 1:2 with lines

# Netgear Arlo camera
#set output '../result_ts/netgear_arlo_camera_incoming.eps'
set output '../result_ts/netgear_arlo_camera_timestamp_incoming.png'
set title "Netgear Arlo Camera Incoming Traffic"
plot "../result_ts/netgear_arlo_camera_incoming.dat" using 1:2 with lines
set output '../result_ts/netgear_arlo_camera_timestamp_outgoing.png'
set title "Netgear Arlo Camera Outgoing Traffic"
plot "../result_ts/netgear_arlo_camera_outgoing.dat" using 1:2 with lines

# LiFX light bulb
#set output '../result_ts/lifx_lightbulb_1_incoming.eps'
set output '../result_ts/lifx_lightbulb_1_timestamp_incoming.png'
set title "LiFX Light Bulb #1 Incoming Traffic"
plot "../result_ts/lifx_lightbulb_1_incoming.dat" using 1:2 with lines
set output '../result_ts/lifx_lightbulb_1_timestamp_outgoing.png'
set title "LiFX Light Bulb #1 Outgoing Traffic"
plot "../result_ts/lifx_lightbulb_1_outgoing.dat" using 1:2 with lines

# LiFX light bulb
#set output '../result_ts/lifx_lightbulb_2_incoming.eps'
set output '../result_ts/lifx_lightbulb_2_timestamp_incoming.png'
set title "LiFX Light Bulb #2 Incoming Traffic"
plot "../result_ts/lifx_lightbulb_2_incoming.dat" using 1:2 with lines
set output '../result_ts/lifx_lightbulb_2_timestamp_outgoing.png'
set title "LiFX Light Bulb #2 Outgoing Traffic"
plot "../result_ts/lifx_lightbulb_2_outgoing.dat" using 1:2 with lines

# Philips Hue
#set output '../result_ts/philips_hue_incoming.eps'
set output '../result_ts/philips_hue_timestamp_incoming.png'
set title "Philips Hue Incoming Traffic"
plot "../result_ts/philips_hue_incoming.dat" using 1:2 with lines
set output '../result_ts/philips_hue_timestamp_outgoing.png'
set title "Philips Hue Outgoing Traffic"
plot "../result_ts/philips_hue_outgoing.dat" using 1:2 with lines

# TP-Link Light Bulb
#set output '../result_ts/tplink_lightbulb_incoming.eps'
set output '../result_ts/tplink_lightbulb_timestamp_incoming.png'
set title "TP-Link Light Bulb Incoming Traffic"
plot "../result_ts/tplink_lightbulb_incoming.dat" using 1:2 with lines
set output '../result_ts/tplink_lightbulb_timestamp_outgoing.png'
set title "TP-Link Light Bulb Outgoing Traffic"
plot "../result_ts/tplink_lightbulb_outgoing.dat" using 1:2 with lines

# Nxeco sprinkler
#set output '../result_ts/nxeco_sprinkler_incoming.eps'
set output '../result_ts/nxeco_sprinkler_timestamp_incoming.png'
set title "Nxeco Sprinkler Incoming Traffic"
plot "../result_ts/nxeco_sprinkler_incoming.dat" using 1:2 with lines
set output '../result_ts/nxeco_sprinkler_timestamp_outgoing.png'
set title "Nxeco Sprinkler Outgoing Traffic"
plot "../result_ts/nxeco_sprinkler_outgoing.dat" using 1:2 with lines

# Blossom sprinkler
#set output '../result_ts/blossom_sprinkler_incoming.eps'
set output '../result_ts/blossom_sprinkler_timestamp_incoming.png'
set title "Blossom Sprinkler Incoming Traffic"
plot "../result_ts/blossom_sprinkler_incoming.dat" using 1:2 with lines
set output '../result_ts/blossom_sprinkler_timestamp_outgoing.png'
set title "Blossom Sprinkler Outgoing Traffic"
plot "../result_ts/blossom_sprinkler_outgoing.dat" using 1:2 with lines

# D-Link alarm
#set output '../result_ts/dlink_alarm_incoming.eps'
set output '../result_ts/dlink_alarm_timestamp_incoming.png'
set title "D-Link Alarm Incoming Traffic"
plot "../result_ts/dlink_alarm_incoming.dat" using 1:2 with lines
set output '../result_ts/dlink_alarm_timestamp_outgoing.png'
set title "D-Link Alarm Outgoing Traffic"
plot "../result_ts/dlink_alarm_outgoing.dat" using 1:2 with lines

# D-Link alarm
#set output '../result_ts/dlink_alarm_incoming.eps'
set output '../result_ts/dlink_alarm_timestamp_incoming.png'
set title "D-Link Alarm Incoming Traffic"
plot "../result_ts/dlink_alarm_incoming.dat" using 1:2 with lines
set output '../result_ts/dlink_alarm_timestamp_outgoing.png'
set title "D-Link Alarm Outgoing Traffic"
plot "../result_ts/dlink_alarm_outgoing.dat" using 1:2 with lines

# D-Link motion sensor
#set output '../result_ts/dlink_motion_sensor_incoming.eps'
set output '../result_ts/dlink_motion_sensor_timestamp_incoming.png'
set title "D-Link Motion Sensor Incoming Traffic"
plot "../result_ts/dlink_motion_sensor_incoming.dat" using 1:2 with lines
set output '../result_ts/dlink_motion_sensor_timestamp_outgoing.png'
set title "D-Link Motion Sensor Outgoing"
plot "../result_ts/dlink_motion_sensor_outgoing.dat" using 1:2 with lines

# Nest Thermostat
#set output '../result_ts/nest_thermostat_incoming.eps'
set output '../result_ts/nest_thermostat_timestamp_incoming.png'
set title "Nest Thermostat Incoming Traffic"
plot "../result_ts/nest_thermostat_incoming.dat" using 1:2 with lines
set output '../result_ts/nest_thermostat_timestamp_outgoing.png'
set title "Nest Thermostat Outgoing Traffic"
plot "../result_ts/nest_thermostat_outgoing.dat" using 1:2 with lines

# Amazon Echo Dot
#set output '../result_ts/amazon_echo_dot_incoming.eps'
set output '../result_ts/amazon_echo_dot_timestamp_incoming.png'
set title "Amazon Echo Dot Incoming Traffic"
plot "../result_ts/amazon_echo_dot_incoming.dat" using 1:2 with lines
set output '../result_ts/amazon_echo_dot_timestamp_outgoing.png'
set title "Amazon Echo Dot Outgoing Traffic"
plot "../result_ts/amazon_echo_dot_outgoing.dat" using 1:2 with lines

# SmartThings hub
#set output '../result_ts/smartthings_hub_incoming.eps'
set output '../result_ts/smartthings_hub_timestamp_incoming.png'
set title "SmartThings Hub Incoming Traffic"
plot "../result_ts/smartthings_hub_incoming.dat" using 1:2 with lines
set output '../result_ts/smartthings_hub_timestamp_outgoing.png'
set title "SmartThings Hub Outgoing Traffic"
plot "../result_ts/smartthings_hub_outgoing.dat" using 1:2 with lines

